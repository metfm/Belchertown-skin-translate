var pages=["graphs","records","reports","about","pi"],pageName="";function get_relative_url(){var e=window.location.pathname.replace(/\/$/,"");if(pageName=e.substring(e.lastIndexOf("/")+1),pages.includes(pageName))var t="..";else t=".";return belchertown_debug("URL: Relative URL is: "+t),t}if(!getURLvar("debug")||"true"!=getURLvar("debug")&&"1"!=getURLvar("debug")){belchertown_debug_config=0;belchertown_debug("Debug: skin.conf belchertown_debug enabled")}else{var belchertown_debug_config=!0;belchertown_debug("Debug: URL debug variable enabled")}var moment_locale="el-GR";moment.locale(moment_locale);var graphgroups_raw={homepage:["chart1","chart2","chart3","chart4"],day:["chart1","chart2","chart3","chart4"],week:["chart1","chart2","chart3","chart4"],month:["chart1","chart2","chart3","chart4"],year:["chart1","chart2","chart3","chart4"]},graphgroups_titles={homepage:"Διαγράμματα",day:"24ωρο",week:"Εβδομάδας",month:"Μήνα",year:"Ετους"},graphpage_content={};function belchertown_debug(e){belchertown_debug_config>0&&console.log(e)}function getURLvar(e){var t={};return location.search.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(e,r,i){t[r]=i}),e?t[e]:t}jQuery(document).ready(function(){jQuery(function(){jQuery('[data-toggle="tooltip"]').tooltip()}),"toggleOverride"==sessionStorage.getItem("theme")&&(belchertown_debug("Theme: sessionStorage override in place."),changeTheme(sessionStorage.getItem("currentTheme"))),window.location.search.indexOf("theme")&&(0===window.location.search.indexOf("?theme=dark")?(belchertown_debug("Theme: Setting dark theme because of URL override"),changeTheme("dark",!0)):0===window.location.search.indexOf("?theme=light")?(belchertown_debug("Theme: Setting light theme because of URL override"),changeTheme("light",!0)):0===window.location.search.indexOf("?theme=auto")&&(belchertown_debug("Theme: Setting auto theme because of URL override"),sessionStorage.setItem("theme","auto"),autoTheme(17,4,7,48)));try{document.getElementById("themeSwitch").addEventListener("change",function(e){belchertown_debug("Theme: Toggle button changed"),e.target.checked?changeTheme("dark",!0):changeTheme("light",!0)})}catch(e){}jQuery(window).on("load",function(){var e=location.hash.replace("#","");""!=e&&setTimeout(function(){jQuery("html, body").animate({scrollTop:jQuery("#"+e).offset().top},500)},500)})}),jQuery.ajaxSetup({cache:!1});var weatherdirection={0:"B",90:"A",180:"N",270:"W",360:"B"};function get_outTemp_color(e,t,r=!1){if(t=parseFloat(t).toFixed(0),"degree_F"==e){if(t<=0)var i="#1278c8";else if(t<=25)i="#30bfef";else if(t<=32)i="#1fafdd";else if(t<=40)i="rgba(0,172,223,1)";else if(t<=50)i="#71bc3c";else if(t<=55)i="rgba(90,179,41,0.8)";else if(t<=65)i="rgba(131,173,45,1)";else if(t<=70)i="rgba(206,184,98,1)";else if(t<=75)i="rgba(255,174,0,0.9)";else if(t<=80)i="rgba(255,153,0,0.9)";else if(t<=85)i="rgba(255,127,0,1)";else if(t<=90)i="rgba(255,79,0,0.9)";else if(t<=95)i="rgba(255,69,69,1)";else if(t<=110)i="rgba(255,104,104,1)";else if(t>=111)i="rgba(218,113,113,1)"}else if("degree_C"==e)if(t<=0)i="#1278c8";else if(t<=-3.8)i="#30bfef";else if(t<=0)i="#1fafdd";else if(t<=4.4)i="rgba(0,172,223,1)";else if(t<=10)i="#71bc3c";else if(t<=12.7)i="rgba(90,179,41,0.8)";else if(t<=18.3)i="rgba(131,173,45,1)";else if(t<=21.1)i="rgba(206,184,98,1)";else if(t<=23.8)i="rgba(255,174,0,0.9)";else if(t<=26.6)i="rgba(255,153,0,0.9)";else if(t<=29.4)i="rgba(255,127,0,1)";else if(t<=32.2)i="rgba(255,79,0,0.9)";else if(t<=35)i="rgba(255,69,69,1)";else if(t<=43.3)i="rgba(255,104,104,1)";else if(t>=43.4)i="rgba(218,113,113,1)";if(r)return i;jQuery(".outtemp_outer").css("color",i)}function highcharts_tooltip_factory(e,t,r=!1,i,s=!1,a){if(s&&(e=Math.abs(e)),"windDir"==t)e>=0&&e<=11.25?ordinal="&#914;":e>=11.26&&e<=33.75?ordinal="&#914;&#914;&#913;":e>=33.76&&e<=56.25?ordinal="&#914;&#913;":e>=56.26&&e<=78.75?ordinal="&#913;&#914;&#913;":e>=78.76&&e<=101.25?ordinal="&#913;":e>=101.26&&e<=123.75?ordinal="&#913;&#925;&#913;":e>=123.76&&e<=146.25?ordinal="&#925;&#913;":e>=146.26&&e<=168.75?ordinal="&#925;&#925;&#913;":e>=168.76&&e<=191.25?ordinal="&#925;":e>=191.26&&e<=213.75?ordinal="&#925;&#925;&#916;":e>=213.76&&e<=236.25?ordinal="&#925;&#916;":e>=236.26&&e<=258.75?ordinal="&#916;&#925;&#916;":e>=258.76&&e<=281.25?ordinal="&#916;":e>=281.26&&e<=303.75?ordinal="&#916;&#914;&#916;":e>=303.76&&e<=326.25?ordinal="&#914;&#916;":e>=326.26&&e<=348.75?ordinal="&#914;&#914;&#916;":e>=348.76&&e<=360&&(ordinal="&#914;"),output=r?ordinal+" ("+Math.round(e)+"º)":ordinal;else try{var{decimals:o,decimalPoint:n,thousandsSep:l}=a;"-1"==i&&void 0===o?output=Highcharts.numberFormat(e):(void 0!==o&&(i=o),void 0===n&&(n=","),void 0===l&&(l="."),output=Highcharts.numberFormat(e,i,n,l))}catch(t){output=Highcharts.numberFormat(e)}return output}function rotateThis(e){var t;"N/A"!=e&&(belchertown_debug("rotateThis: rotating to "+e),finalRotation=finalRotation||0,(t=finalRotation%360)<0&&(t+=360),t<180&&e>t+180&&(finalRotation-=360),t>=180&&e<=t-180&&(finalRotation+=360),finalRotation+=e-t,jQuery(".wind-arrow").css("transform","rotate("+finalRotation+"deg)"),jQuery(".arrow").css("transform","rotate("+finalRotation+"deg)"))}function titleCase(e){return e.toLowerCase().split(" ").map(function(e){return e.replace(e[0],e[0].toUpperCase())}).join(" ")}function autoTheme(e,t,r,i){if(getURLvar("theme")&&"auto"!=getURLvar("theme"))return belchertown_debug("Auto theme: theme override detected in URL. Skipping auto theme"),!0;belchertown_debug("Auto theme: checking to see if theme needs to be switched");var s=new Date,a=s.getHours();s.getMinutes();a=a,r=r,e=e,dayTime=r<=a&&a<e,belchertown_debug("Auto theme: sunrise: "+r),belchertown_debug("Auto theme: now: "+a),belchertown_debug("Auto theme: sunset: "+e),belchertown_debug("Auto theme: are we in daylight hours: "+dayTime),belchertown_debug("Auto theme: sessionStorage.getItem('theme') = "+sessionStorage.getItem("theme")),dayTime?document.body.classList.contains("dark")&&("auto"==sessionStorage.getItem("theme")?belchertown_debug("Auto theme: setting light theme since dayTime variable is true (day)"):belchertown_debug("Auto theme: cannot set light theme since visitor used toggle to override theme. Refresh to reset the override."),"auto"==sessionStorage.getItem("theme")&&changeTheme("light")):document.body.classList.contains("light")&&("auto"==sessionStorage.getItem("theme")?belchertown_debug("Auto theme: setting dark theme since dayTime variable is false (night)"):belchertown_debug("Auto theme: cannot set dark theme since visitor used toggle to override theme. Refresh to reset the override."),"auto"==sessionStorage.getItem("theme")&&changeTheme("dark"))}function changeTheme(e,t=!1){belchertown_debug("Theme: Changing to "+e),t&&(belchertown_debug("Theme: toggle override clicked."),belchertown_debug("Theme: sessionStorage.getItem('theme') was previously: "+sessionStorage.getItem("theme")),sessionStorage.setItem("theme","toggleOverride"),belchertown_debug("Theme: sessionStorage.getItem('theme') is now: "+sessionStorage.getItem("theme"))),"dark"==e?(jQuery("body").addClass("dark"),jQuery("body").removeClass("light"),jQuery("#themeSwitch").prop("checked",!0),sessionStorage.setItem("currentTheme","dark")):"light"==e&&(jQuery("body").addClass("light"),jQuery("body").removeClass("dark"),jQuery("#themeSwitch").prop("checked",!1),sessionStorage.setItem("currentTheme","light"))}function ajaxweewx(){jQuery.getJSON(get_relative_url()+"/json/weewx_data.json",update_weewx_data)}var unit_rounding_array="",unit_label_array="";function update_weewx_data(e){switch(belchertown_debug("Updating weewx data"),unit_rounding_array=e.unit_rounding,unit_label_array=e.unit_label,high=e.day.outTemp.max,low=e.day.outTemp.min,jQuery(".high").html(high),jQuery(".low").html(low),count=(e.current.barometer_trend.match(/-/g)||[]).length,count>=1?jQuery(".pressure-trend").html('<i class="fa fa-arrow-down barometer-down"></i>'):jQuery(".pressure-trend").html('<i class="fa fa-arrow-up barometer-up"></i>'),jQuery(".dailymaxgust").html(parseFloat(e.day.wind.max).toFixed(1)),jQuery(".snapshot-records-today-header").html(moment.unix(e.current.epoch).utcOffset(120).format("dddd, D MMMM YYYY  HH:mm:ss")),jQuery(".snapshot-records-month-header").html(moment.unix(e.current.epoch).utcOffset(120).format("MMMM YYYY")),jQuery(".dailystatshigh").html(e.day.outTemp.max),jQuery(".dailystatslow").html(e.day.outTemp.min),jQuery(".dailystatswindavg").html(e.day.wind.average),jQuery(".dailystatswindmax").html(e.day.wind.max),jQuery(".dailystatsrain").html(e.day.rain.sum),jQuery(".dailystatsrainrate").html(e.day.rain.max),jQuery(".monthstatshigh").html(e.month.outTemp.max),jQuery(".monthstatslow").html(e.month.outTemp.min),jQuery(".monthstatswindavg").html(e.month.wind.average),jQuery(".monthstatswindmax").html(e.month.wind.max),jQuery(".monthstatsrain").html(e.month.rain.sum),jQuery(".monthstatsrainrate").html(e.month.rain.max),jQuery(".sunrise-value").html(moment.unix(parseFloat(e.almanac.sunrise_epoch).toFixed(0)).utcOffset(120).format("HH:mm:ss")),jQuery(".sunset-value").html(moment.unix(parseFloat(e.almanac.sunset_epoch).toFixed(0)).utcOffset(120).format("HH:mm:ss")),e.almanac.moon.moon_index){case"0":jQuery(".moon-icon").html("<div class='wi wi-moon-alt-new'></div>");break;case"1":jQuery(".moon-icon").html("<div class='wi wi-moon-alt-waxing-crescent-3 northern-hemisphere'></div>");break;case"2":jQuery(".moon-icon").html("<div class='wi wi-moon-alt-first-quarter northern-hemisphere'></div>");break;case"3":jQuery(".moon-icon").html("<div class='wi wi-moon-alt-waxing-gibbous-3 northern-hemisphere'></div>");break;case"4":jQuery(".moon-icon").html("<div class='wi wi-moon-alt-full'></div>");break;case"5":jQuery(".moon-icon").html("<div class='wi wi-moon-alt-waning-gibbous-3 northern-hemisphere'></div>");break;case"6":jQuery(".moon-icon").html("<div class='wi wi-moon-alt-third-quarter northern-hemisphere'></div>");break;case"7":jQuery(".moon-icon").html("<div class='wi wi-moon-alt-waning-crescent-4 northern-hemisphere'></div>")}jQuery(".moon-phase").html(titleCase(e.almanac.moon.moon_phase)),jQuery(".moon-visible").html("<strong>"+e.almanac.moon.moon_fullness+"%</strong> &#922;&#940;&#955;&#965;&#968;&#951;"),jQuery("#almanac").modal("hide"),jQuery(".almanac-extras-modal-body").html(e.almanac.almanac_extras_modal_html),almanac_updated="&#932;&#949;&#955;&#949;&#965;&#964;&#945;&#943;&#945; &#913;&#957;&#945;&#957;&#941;&#969;&#963;&#951; "+moment.unix(e.current.datetime_raw).utcOffset(120).format("dddd, D MMMM YYYY  HH:mm:ss"),jQuery(".almanac_last_updated").html(almanac_updated)}function showChart(e,t=!1){jQuery.getJSON(get_relative_url()+"/json/"+e+".json",function(r){jQuery.each(r,function(i,s){var a=void 0;if("belchertown_version"==i)return!0;if("generated_timestamp"==i)return!0;if("chartgroup_title"==i)return!0;if("tooltip_date_format"==i)return o=s,!0;if("colors"==i)return colors=s.split(","),!0;if("credits"==i)return credits=s.split(",")[0],!0;if("credits_url"==i)return credits_url=s.split(",")[0],!0;if("credits_position"==i)return credits_position=s,!0;if(jQuery.each(r[i].options,function(e,t){switch(e){case"type":type=t;break;case"renderTo":renderTo=t;break;case"title":title=t;break;case"subtitle":subtitle=t;break;case"yAxis_label":yAxis_label=t;break;case"chart_group":chart_group=t;break;case"gapsize":gapsize=t;break;case"connectNulls":connectNulls=t;break;case"rounding":rounding=t;break;case"xAxis_categories":xAxis_categories=t;break;case"plot_tooltip_date_format":plot_tooltip_date_format=t;break;case"css_class":css_class=t;break;case"css_height":css_height=t;break;case"css_width":css_width=t;break;case"legend":legend_enabled=t;break;case"exporting":exporting_enabled=t}}),"undefined"!=typeof plot_tooltip_date_format)var o=plot_tooltip_date_format;var n={chart:{renderTo:"",spacing:[5,10,10,0],type:"",zoomType:"x"},exporting:{enabled:JSON.parse(String(exporting_enabled))},title:{useHTML:!0,text:""},subtitle:{text:""},legend:{enabled:JSON.parse(String(legend_enabled))},xAxis:{dateTimeLabelFormats:{day:"%e %b",week:"%e %b",month:"%b %y"},lineColor:"#555",minRange:9e5,minTickInterval:9e5,title:{style:{font:"bold 12px Lucida Grande, Lucida Sans Unicode, Verdana, Arial, Helvetica, sans-serif"}},ordinal:!1,type:"datetime"},yAxis:[{endOnTick:!0,lineColor:"#555",minorGridLineWidth:0,startOnTick:!0,showLastLabel:!0,title:{},opposite:!1}],plotOptions:{area:{lineWidth:2,gapSize:"",gapUnit:"value",marker:{enabled:!1,radius:2},threshold:null,softThreshold:!0},line:{lineWidth:2,gapSize:"",gapUnit:"value",marker:{enabled:!1,radius:2}},spline:{lineWidth:2,gapSize:"",gapUnit:"value",marker:{enabled:!1,radius:2}},areaspline:{lineWidth:2,gapSize:"",gapUnit:"value",marker:{enabled:!1,radius:2},threshold:null,softThreshold:!0},scatter:{gapSize:"",gapUnit:"value",marker:{radius:2}}},scrollbar:{enabled:!1},navigator:{enabled:!1},rangeSelector:{enabled:!1},tooltip:{enabled:!0,crosshairs:!0,dateTimeLabelFormats:{hour:"%e %b %H:%M"},formatter:function(e){try{return[moment.unix(this.x/1e3).utcOffset(120).format(o)].concat(this.points.map(function(e){var t=e.series.userOptions.observation_type?e.series.userOptions.observation_type:e.series.userOptions.obsType,r=e.series.userOptions.rounding,i=e.series.userOptions.mirrored_value,s=e.series.userOptions.numberFormat?e.series.userOptions.numberFormat:"";return"<span style='color:"+e.series.color+"'>●</span> "+e.series.name+": "+highcharts_tooltip_factory(e.y,t,!0,r,i,s)}))}catch(s){if("windDir"==this.series.userOptions.obsType||"windDir"==this.series.userOptions.observation_type){var t=this.series.userOptions.observation_type?this.series.userOptions.observation_type:this.series.userOptions.obsType,r=this.series.userOptions.rounding,i=this.series.userOptions.mirrored_value;return moment.unix(this.x/1e3).utcOffset(120).format(o)+"<br><b>"+highcharts_tooltip_factory(this.point.y,t,!0,r,i)}return"scatter"==this.series.userOptions.type?"<span style='color:"+this.series.color+"'>●</span> "+this.series.name+": "+Highcharts.numberFormat(this.y):e.defaultFormatter.call(this,e)}},split:!0},credits:{},series:[{}]};n.chart.renderTo=t?e+"_"+renderTo:renderTo,belchertown_debug(n.chart.renderTo+": building a "+type+" chart"),css_class&&(jQuery("#"+n.chart.renderTo).addClass(css_class),belchertown_debug(n.chart.renderTo+": div id is "+n.chart.renderTo+" and adding CSS class: "+css_class)),n.chart.type=type,n.title.text="<a href='#"+n.chart.renderTo+"'>"+title+"</a>",n.subtitle.text=subtitle,n.plotOptions.area.gapSize=gapsize,n.plotOptions.line.gapSize=gapsize,n.plotOptions.spline.gapSize=gapsize,n.plotOptions.scatter.gapSize=gapsize,"true"==connectNulls&&(n.plotOptions.series={connectNulls:connectNulls}),n.colors=colors,xAxis_categories.length>=1&&(belchertown_debug(n.chart.renderTo+": has "+xAxis_categories.length+" xAxis categories. Resetting xAxis and tooltips for grouping"),n.xAxis={},n.xAxis.categories=xAxis_categories,n.tooltip={},n.tooltip={enabled:!0,crosshairs:!0,split:!0,formatter:function(){return[this.x].concat(this.points.map(function(e){var t=e.series.userOptions.observation_type?e.series.userOptions.observation_type:e.series.userOptions.obsType,r=e.series.userOptions.rounding,i=e.series.userOptions.mirrored_value;return"<span style='color:"+e.series.color+"'>●</span> "+e.series.name+": "+highcharts_tooltip_factory(e.y,t,!0,r,i)}))}}),n.series=[];var l=0;jQuery.each(r[i].series,function(e,t){a=r[i].series[e].obsType,n.series[l]=r[i].series[e],l++});var h=n.series.findIndex(function(e){return 1==e.yAxis});if(n.series.forEach(e=>{if("1"==e.yAxis?(!0,n.yAxis.push({opposite:!0,title:{text:e.yAxis_label}}),e.yAxis=1,h>=1&&(n.yAxis[0].title.text=n.series[0].yAxis_label)):(n.yAxis[0].title.text=e.yAxis_label,e.yAxis=0),this_yAxis=e.yAxis,belchertown_debug(n.chart.renderTo+": "+e.obsType+" is on yAxis "+this_yAxis),n.yAxis[this_yAxis].min="undefined"!==e.yAxis_min?e.yAxis_min:null,n.yAxis[this_yAxis].max="undefined"!==e.yAxis_max?e.yAxis_max:null,n.yAxis[this_yAxis].softMin="undefined"!==e.yAxis_softMin?parseInt(e.yAxis_softMin):null,n.yAxis[this_yAxis].softMax="undefined"!==e.yAxis_softMax?parseInt(e.yAxis_softMax):null,e.yAxis_tickInterval&&(n.yAxis[this_yAxis].tickInterval=e.yAxis_tickInterval),e.yAxis_minorTicks&&(n.yAxis[this_yAxis].minorTicks=!0),"barometer"==e.obsType&&(void 0===e.yAxis_tickInterval&&(n.yAxis[this_yAxis].tickInterval=.01),void 0!==e.rounding?n.yAxis[this_yAxis].labels={format:"{value:."+e.rounding+"f}"}:n.yAxis[this_yAxis].labels={format:"{value:.2f}"}),"rain"!=e.obsType&&"rainRate"!=e.obsType&&"rainTotal"!=e.obsType||(n.yAxis[this_yAxis].min=0,n.yAxis[this_yAxis].minRange=.01,n.yAxis[this_yAxis].minorGridLineWidth=1),"windDir"==e.obsType&&(n.yAxis[this_yAxis].tickInterval=90,n.yAxis[this_yAxis].labels={formatter:function(){var e=weatherdirection[this.value];return"undefined"!==e?e:this.value}}),e.gapsize&&(n.plotOptions.area.gapSize=e.gapsize,n.plotOptions.line.gapSize=e.gapsize,n.plotOptions.spline.gapSize=e.gapsize,n.plotOptions.scatter.gapSize=e.gapsize),e.mirrored_value&&(belchertown_debug(n.chart.renderTo+": mirrored chart due to mirrored_value = true"),n.yAxis[e.yAxis].labels={formatter:function(){return Math.abs(this.value)}}),void 0!==e.numberFormat&&Object.keys(e.numberFormat).length>=1){var{decimals:t,decimalPoint:r,thousandsSep:i}=e.numberFormat;n.yAxis[this_yAxis].labels={formatter:function(){return Highcharts.numberFormat(this.value,t,r,i)}}}}),"windRose"==a){n.chart.className="highcharts-windRose",n.chart.type="column",n.chart.polar=!0,n.chart.alignTicks=!1,n.pane={size:"80%"},n.xAxis={},n.xAxis.min=0,n.xAxis.max=16,n.xAxis.crosshair=!0,n.xAxis.categories=["&#914;","&#914;&#914;&#913;","&#914;&#913;","&#913;&#914;&#913;","&#913;","&#913;&#925;&#913;","&#925;&#913;","&#925;&#925;&#913;","&#925;","&#925;&#925;&#916;","&#925;&#916;","&#916;&#925;&#916;","&#916;","&#916;&#914;&#916;","&#914;&#916;","&#914;&#914;&#916;","N/A"],n.xAxis.tickmarkPlacement="on",n.legend.verticalAlign="top",n.legend.x=210,n.legend.y=119,n.legend.layout="vertical",n.legend.floating=!0,n.yAxis[0].min=0,n.yAxis[0].endOnTick=!1,n.yAxis[0].reversedStacks=!1,n.yAxis[0].title.text="Frequency (%)",n.yAxis[0].gridLineWidth=0,n.yAxis[0].labels={enabled:!1},n.yAxis[0].zIndex=800,n.plotOptions={column:{stacking:"normal",shadow:!1,groupPadding:0,pointPlacement:"on"}},n.tooltip={},n.tooltip.shared=!0,n.tooltip.valueSuffix="%",n.tooltip.followPointer=!0,n.tooltip.useHTML=!0;var c=n.series[0].data;n.series=[],c.forEach(e=>{n.series.push(e)})}if("haysChart"==a){n.chart.type="arearange",n.chart.polar=!0,n.plotOptions={turboThreshold:0,series:{marker:{enabled:!1}}};var u=[];n.series[0].data.forEach(e=>{u.push(e[2])});var d=Math.max(...u);if(n.series[0].yAxis_softMax)d=n.series[0].yAxis_softMax;n.legend={enabled:!1},n.yAxis={showFirstLabel:!1,tickInterval:2,tickmarkPlacement:"on",min:-1,softMax:d,title:{text:n.series[0].yAxis_label},labels:{align:"center",x:0,y:0}},n.tooltip={split:!1,shared:!0,followPointer:!0,useHTML:!0,formatter:function(e){return this.points.map(function(e){var t=e.series.userOptions.rounding,r=e.series.userOptions.mirrored_value,i=e.series.userOptions.numberFormat?e.series.userOptions.numberFormat:"";return"<strong>"+moment.unix(e.x/1e3).utcOffset(120).format(o)+"</strong><br><span style='color:"+n.series[0].color+"'>●</span> &#924;&#941;&#947;&#953;&#963;&#964;&#951;: "+highcharts_tooltip_factory(e.point.high,a,!0,t,r,i)+"<br><span style='color:"+n.series[0].color+"'>●</span> &#917;&#955;&#940;&#967;&#953;&#963;&#964;&#951;: "+highcharts_tooltip_factory(e.point.low,a,!0,t,r,i)})}};n.series;var m=n.series[0].data,g=n.series[0].range_unit,p=[],b=n.series[0].color;m.forEach(e=>{p.push({x:e[0],low:e[1],high:e[2]})}),n.series=[],n.series.push({data:p,obsType:"haysChart",obsUnit:g,color:b,fillColor:b,connectEnds:!1})}if("weatherRange"==a){n.chart.type="columnrange",JSON.parse(String(n.series[0].polar.toLowerCase()))?(n.chart.polar=!0,n.chart.className="highcharts-weatherRange belchertown-polar"):n.chart.className="highcharts-weatherRange",n.legend={enabled:!1};var y=[];u=[];n.series[0].data.forEach(e=>{y.push(e[1]),u.push(e[2])});var f=Math.min(...y),_=(d=Math.max(...u),5*Math.ceil(Math.round(d/5)/5));n.yAxis={showFirstLabel:!0,tickInterval:_,min:f,max:d,title:{text:n.series[0].yAxis_label}},n.xAxis={},n.xAxis={labels:{format:"{value: %b}"},tickInterval:2592e6,showLastLabel:!0,crosshair:!0,type:"datetime"},n.plotOptions={},n.plotOptions={series:{turboThreshold:0,stacking:"normal",showInLegend:!1,borderWidth:0}},n.tooltip={split:!1,shared:!0,followPointer:!0,useHTML:!0,formatter:function(e){return this.points.map(function(e){var t=e.series.userOptions.rounding,r=e.series.userOptions.mirrored_value,i=e.series.userOptions.numberFormat?e.series.userOptions.numberFormat:"";return"<strong>"+moment.unix(e.x/1e3).utcOffset(120).format(o)+"</strong><br><span style='color:"+get_outTemp_color(e.series.userOptions.obsUnit,e.point.high,!0)+"'>●</span> &#924;&#941;&#947;&#953;&#963;&#964;&#951;: "+highcharts_tooltip_factory(e.point.high,a,!0,t,r,i)+"<br><span style='color:"+get_outTemp_color(e.series.userOptions.obsUnit,e.point.low,!0)+"'>●</span> &#917;&#955;&#940;&#967;&#953;&#963;&#964;&#951;: "+highcharts_tooltip_factory(e.point.low,a,!0,t,r,i)+"<br><span style='color:"+get_outTemp_color(e.series.userOptions.obsUnit,e.point.average,!0)+"'>●</span> &#924;&#941;&#963;&#951;: "+highcharts_tooltip_factory(e.point.average,a,!0,t,r,i)})}};n.series,m=n.series[0].data,g=n.series[0].range_unit,p=[];m.forEach(e=>{if(n.series[0].color)var t=n.series[0].color;else t=get_outTemp_color(g,e[3],!0);p.push({x:e[0],low:e[1],high:e[2],average:e[3],color:t})}),n.series=[],n.series.push({data:p,obsType:"weatherRange",obsUnit:g})}""!=css_height&&jQuery("#"+n.chart.renderTo).parent().css({height:css_height,padding:"0px 15px","margin-bottom":"20px"}),""!=css_width&&jQuery("#"+n.chart.renderTo).parent().css("width",css_width),"highcharts_default"!=credits&&(n.credits.text=credits),"highcharts_default"!=credits_url&&(n.credits.href=credits_url),"highcharts_default"!=credits_position&&(n.credits.position=JSON.parse(credits_position));new Highcharts.chart(n);belchertown_debug("Highcharts.chart('container', "+JSON.stringify(n)+");")})})}Highcharts.setOptions({global:{timezoneOffset:-120},lang:{decimalPoint:",",thousandsSep:"."}});
